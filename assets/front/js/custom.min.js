(function($){"use strict";var loading_html='<div class="container text-center" style="padding: 200px"><div class="spinner-md"></div></div>';var loader_md='<div class="container text-center" style="padding: 100px"><div class="spinner-md"></div></div>';var loader_btn='<div class="spinners"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>';var base_url=$('#base_url').val();var success=$('#success').val();var error=$('#error').val();var needToConfirm=!1;var form_original_data=$(".leave_con").serialize();$('[data-toggle="tooltip"]').tooltip();$(document).ready(function(){$(function(){$('input[name="daterange"]').daterangepicker({opens:'left',locale:{format:'Y-M-DD'}},function(start,end,label){console.log("A new date selection was made: "+start.format('YYYY-MM-DD')+' to '+end.format('YYYY-MM-DD'))})});$(document).on("focusin",".timepicker",function(){$('input.timepicker').timepicker({})});jQuery('.bsdatepicker').datepicker({format:'yyyy-mm-dd'});$('.nice_select').niceSelect();$('.select2').select2()});function readURL(input){if(input.files&&input.files[0]){var reader=new FileReader();reader.onload=function(e){$('#imagePreview').css('background-image','url('+e.target.result+')');$('#imagePreview').hide();$('.upload-text').hide();$('#imagePreview').fadeIn(650)}
reader.readAsDataURL(input.files[0])}}
$("#imageUpload").change(function(){readURL(this)});$(".checkItem").on('click',function(){if($(".checkItem").is(":checked")){$(".multiple_delete_btn").show()}else{$(".multiple_delete_btn").hide()}});$(document).on('keyup',".slug_input",function(){$("#slug_add").val(base_url+$(this).val());$('.loader').html('<span class="spinner-border spinner-border-sm mb-2"></span>');var valName=$(this).val();var url=base_url+'auth/check_username/'+valName;$.post(url,{data:'value','csrf_test_name':csrf_token},function(json){if(json.st==1){$('.loader').hide();$("#name_exist").slideUp();$("#name_available").slideDown()}else{$("#name_available").slideUp();$("#name_exist").slideDown()}},'json');return!1});$(".name_input").keyup(function(){$("#name_add").text($(this).val())});$('textarea').on('keyup',function(e){console.log('typing')})
$('#details_input').keypress(function(e){var value=this.value;$("#details_add").text(value)})
$("body").on('click','.time_btn',function(){$('.step2_btn').prop('disabled',!1);$('.time_btn').removeClass('active');$(this).addClass('active')});$(document).on('click',".apply_coupon",function(){var code=$('.coupon_code').val();var appointment_id=$('.appointment_id').val();var url=base_url+'company/check_coupon/'+code+'/'+appointment_id;$.post(url,{data:'value','csrf_test_name':csrf_token},function(json){if(json.st==1){$('.apply_coupon').prop('disabled',!0);var total_price=json.total_price;var tatalCost=Number(total_price)-(total_price*(json.discount/100));var coupon_amount=total_price-tatalCost;$(".percent").html(' - '+json.discount+'%');$('.paypal_price').prop("value",tatalCost.toFixed(2));$(".coupon_amount").html(coupon_amount.toFixed(2));$(".final_amount").html(tatalCost.toFixed(2));$(".apply_msg_error").hide();$(".apply_msg_success").show().html(json.msg)}else{$(".apply_msg_success").hide();$(".apply_msg_error").show().html(json.msg)}},'json');return!1});$(document).on('change',".service_input",function(){$(this).is(":checked");var Id=$(this).val();var url=base_url+'company/load_staff/'+Id;$.post(url,{data:'value','csrf_test_name':csrf_token},function(json){if(json.st==1){$("#load_staff_data").html(json.loaded)}else{$("#load_staff_data").html(json.loaded)}},'json');return!1});$(document).on('change',".staff_input",function(){$('.step1_btn').prop('disabled',!1)});$(document).on('click',".step1_btn",function(){$('.booking_step_1').hide();$('.booking_step_2').show()});$(document).on('click',".step2_btn",function(){$('.booking_step_2').hide();$('.booking_step_3').show()});$(document).on('click',".step2_back_btn",function(){$('.booking_step_2').hide();$('.booking_step_1').show()});$(document).on('click',".step3_back_btn",function(){$('.booking_step_3').hide();$('.booking_step_2').show()});$(document).on('change',".pay_info",function(){var infoVal=$(this).val();if(infoVal=='1'){$('.payments_area').show();$('.confirm_area').hide()}else{$('.payments_area').hide();$('.confirm_area').show()}});$('.confirm_pay_info').on('click',function(){var slug=$(this).attr('data-val');var id=$(this).attr('data-id');var url=base_url+'company/confirm_pay_info/'+slug+'/'+id;$.post(url,{data:'value','csrf_test_name':csrf_token},function(json){if(json.st==1){window.location.href=base_url+"customer/appointments"}},'json');return!1});$('.active_status').on('change',function(){var id=$(this).attr('data-id');var value=$(this).val();var url=base_url+'admin/appointment/status_update/'+value+'/'+id;$.post(url,{data:'value','csrf_test_name':csrf_token},function(json){if(json.st==1){location.reload()}},'json');return!1});$(document).on('click',".cancel_item",function(){var del_url=$(this).attr('href');var Id=$(this).attr('data-id');swal({title:'Are you sure?',text:'Want to cancel this appointment',type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:'Yes Cancel It',closeOnConfirm:!1},function(){$.post(del_url,{data:'value','csrf_test_name':csrf_token},function(json){if(json.st==1){swal({title:'Success',text:'Canceled Successfully',type:"success",showCancelButton:!1}),$("#row_"+Id).slideUp()}},'json')});return!1});$(document).on('click',".delete_item",function(){var del_url=$(this).attr('href');var Id=$(this).attr('data-id');swal({title:'Are you sure?',text:'You will not recover this file',type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:'Yes Delete It',closeOnConfirm:!1},function(){$.post(del_url,{data:'value','csrf_test_name':csrf_token},function(json){if(json.st==1){swal({title:'Success',text:'Delete Successfully',type:"success",showCancelButton:!1}),$("#row_"+Id).slideUp()}},'json')});return!1});$(document).ready(function(){AOS.init();if($('#success').val()){tata.success('Success',success,{position:'tr',duration:3000,animate:'slide'})}
if($('#error').val()){tata.error('Error',error,{position:'tr',duration:6000,animate:'slide'})}
$('#status').fadeOut();$('#preloader').delay(350).fadeOut('slow');$('body').delay(350).css({'overflow':'visible'});$('.log_alert').delay(2000).slideUp()})
$(".agree_btn").on('click',function(){if($(".agree_btn").is(":checked")){$('.submit_btn').prop('disabled',!1)}else{$('.submit_btn').prop('disabled',!0)}});$(".click_new").on('click',function(){$('.is_customer_exist').val(0)});$(".click_old").on('click',function(){$('.is_customer_exist').val(1)});$(".custom-btngp").on('click',function(){var priceVal=$(this).find('.switch_price').val();if(priceVal=='monthly'){$('.monthly_price').show();$('.yearly_price').hide();$('.billing_type').val('monthly')}else{$('.yearly_price').show();$('.monthly_price').hide();$('.billing_type').val('yearly')}});$(document).on('click',".package_btn",function(){var billType=$('.billing_type').val();var url=$(this).attr('href')+'&billing='+billType;window.location.href=url;return!1});$(".confirm_step").on('click',function(){if(!$('#datepicker').val()){$(".error").html('<i class="fa fa-exclamation-circle"></i> Appointment date is required');return!1}else{$(".error").hide()}
if(!$('#book_time').val()){$(".error").html('<i class="fa fa-exclamation-circle"></i> Appointment time is required');return!1}else{$(".error").hide()}
$('.step1').hide();$('.step2').show();return!1});$(".back_step").on('click',function(){$('.step1').show();$('.step2').hide();return!1});$(document).on('submit',"#booking_form",function(){$(".booking_btn").html('<span class="spinner-border spinner-border-sm"></span> &nbsp; Processing');$(".booking_btn").prop('disabled',!0);$.post($('#booking_form').attr('action'),$('#booking_form').serialize(),function(json){if(json.st==1){$(".success").html('<i class="fa fa-check-circle"></i> '+json.msg);window.location=json.url}else if(json.st==0){$(".booking_btn").prop('disabled',!1);$(".booking_btn").html('<i class="fas fa-calendar-check"></i> Book Appointment');$(".error").show().html('<i class="fa fa-exclamation-circle"></i> '+json.msg)}else if(json.st==2){$('.step1').show();$('.step2').hide();$(".booking_btn").prop('disabled',!1);$(".booking_btn").html('<i class="fas fa-calendar-check"></i> Book Appointment');$(".error").show().html('<i class="icon-exclamation"></i> '+json.msg)}else if(json.st==3){$(".booking_btn").prop('disabled',!1);$(".booking_btn").html('<i class="fas fa-calendar-check"></i> Book Appointment');$(".error").show().html('<i class="icon-exclamation"></i> '+json.error)}else if(json.st==4){$(".booking_btn").prop('disabled',!1);$(".booking_btn").html('<i class="fas fa-calendar-check"></i> Book Appointment');$(".error").show().html('<i class="icon-exclamation"></i> '+json.msg)}},'json');return!1});$(document).on('submit',"#login-form",function(){$(".signin_btn").html('<span class="spinner-border spinner-border-sm"></span> &nbsp; Signing In');$(".signin_btn").prop('disabled',!0);$.post($('#login-form').attr('action'),$('#login-form').serialize(),function(json){if(json.st==1){window.location=json.url}else if(json.st==0){$(".signin_btn").prop('disabled',!1);$(".signin_btn").html('Sign In');$(".error").html('<i class="fa fa-exclamation-circle"></i> Incorrect username or password');$('#login_pass').val('')}else if(json.st==2){$(".signin_btn").prop('disabled',!1);$(".signin_btn").html('Sign In');$(".error").html('<i class="icon-exclamation"></i> Your account is not active')}else if(json.st==3){$(".signin_btn").prop('disabled',!1);$(".signin_btn").html('Sign In');$(".error").html('<i class="fa fa-ban"></i> Your account has been suspended')}else if(json.st==4){$(".signin_btn").prop('disabled',!1);$(".signin_btn").html('Sign In');$(".error").html('<i class="fa exclamation-circle"></i> Your email is not verified, Please verify your email')}},'json');return!1});$(document).on('submit',"#register_form",function(){$(".register_button").html('<span class="spinner-border spinner-border-sm"></span> &nbsp; Processing');$(".register_button").prop('disabled',!0);$.post($('#register_form').attr('action'),$('#register_form').serialize(),function(json){if(json.st==1){$(".error").hide();$(".success").html(`<i class="fa fa-check"></i> Registared successfully! <br> 
                  <span class="spinner-border spinner-border-sm"></span> Please wait we are preparing environment for you...`);setTimeout(function(){window.location.href=json.url},3500)}else if(json.st==2){$(".register_button").prop('disabled',!1);$(".register_button").html('Register');$(".error").html('<i class="icon-exclamation"></i> This email already used, please try another one');$('html, body').animate({scrollTop:25},'slow')}else if(json.st==3){$(".register_button").prop('disabled',!1);$(".register_button").html('Register');$(".error").html('<i class="icon-exclamation"></i> Recaptcha is required');$('html, body').animate({scrollTop:25},'slow')}else{$(".register_button").prop('disabled',!1);$(".register_button").html('Register');$('#register_form')[0].reset();$(".error").html('<i class="icon-exclamation"></i> '+json.msg);$('html, body').animate({scrollTop:25},'slow')}},'json');return!1});$(document).on('click',".resend_mail",function(){var url=$(this).attr('href');$(".loader").show();$.post(url,{data:'value','csrf_test_name':csrf_token},function(json){if(json.st==1){$(".loader").hide();swal({title:"Success",text:"Email resend successfully !",type:"success",showConfirmButton:!0})}else{$(".loader").html('Something wrong !, Failed to send code in your email.')}},'json');return!1});$(document).on('submit',"#lost-form",function(){$.post($('#lost-form').attr('action'),$('#lost-form').serialize(),function(json){if(json.st==1){swal({title:"Password Reset Successfully!",text:"We've sent a password to your email address. Please check your inbox",type:"success",showConfirmButton:!0},function(){window.location=json.url})}else{swal({title:"Sorry !",text:"You are not a valid user",type:"error",confirmButtonText:"Try Again"})}},'json');return!1});$(document).on('submit',"#verify_from",function(){$('.verify_btn').html(loader_btn);$.post($('#verify_from').attr('action'),$('#verify_from').serialize(),function(json){if(json.st==1){swal({title:"Success",text:"Your account verified successfully!",type:"success",showConfirmButton:!0},function(){window.location=json.url})}else{$('.verify_btn').html('<i class="ficon flaticon-check"></i> Verify Code');swal({title:"Error",text:"Verify code is not matched",type:"error",confirmButtonText:"Try Again"})}},'json');return!1});$(document).on('click',".forgot_pass",function(){$('#login-area').hide();$('#forgot-area').show()});$(document).on('click',".back_login",function(){$('#login-area').show();$('#forgot-area').hide()});$(document).on('click',".package_btn",function(){form_original_data=$(".leave_con").serialize();var billType=$('.billing_type').val();var url=$(this).attr('href')+'/'+billType;$('.pricing_area').hide();$(".loader").html(loading_html);$.post(url,{data:'value','csrf_test_name':csrf_token},function(json){if(json.st==1){window.location.href=json.url}else{$('.pricing_area').show()}},'json');return!1});$(function(){$(document).on('submit',"#business_form",function(){form_original_data=$(".leave_con").serialize();$.post($('#business_form').attr('action'),$('#business_form').serialize(),function(json){if(json.st==1){$('#business_form')[0].reset();$('.account_area').hide();$('.business_area').hide();$('.step_3').addClass('active');$('.pricing_area').show()}else if(json.st==3){window.location.href=base_url+'admin/dashboard/business'}else{$('#register_form')[0].reset();swal({title:msg_error,text:json.st,type:"error",showConfirmButton:!0})}},'json');return!1})});$(function(){$(document).on('submit',"#cahage_pass_form",function(){$.post($('#cahage_pass_form').attr('action'),$('#cahage_pass_form').serialize(),function(json){if(json.st==1){$('#cahage_pass_form')[0].reset();swal({title:'Congratulations',text:'Password reset successfully',type:"success",showConfirmButton:!0})}else if(json.st==2){$('#cahage_pass_form')[0].reset();swal({title:'Opps',text:'Confirm password is not matched',type:"error",showConfirmButton:!0})}else{$('#cahage_pass_form')[0].reset();swal({title:'Error',text:'Old password is not matched',type:"error",showConfirmButton:!0})}},'json');return!1})});$(document).on('change',".sort_staff",function(){$('.sort_form').submit()});$(document).on('change',".sort_department",function(){$('.sort_form').submit()});$(document).on('change',".sort_experience",function(){$('.sort_form').submit()});$(document).on('click',".sort_btn",function(){$('.sort_form').submit()});$(document).on('click',".add_btn",function(){$('.add_area').show();$('.list_area').hide();return!1});$(document).on('click',".cancel_btn",function(){$('.add_area').hide();$('.list_area').show();return!1});$(document).on('click',".change_pass",function(){$('.change_password_area').slideDown();$('.edit_account_area').hide();$("html, body").animate({scrollTop:200},"slow");return!1});$(document).on('click',".cancel_pass",function(){$('.change_password_area').hide();$('.edit_account_area').slideDown();return!1});$(window).on('bind',"beforeunload",function(e){if($(".leave_con").serialize()!=form_original_data){var needToConfirm=!0}
if(needToConfirm)
return msg_made_changes_not_saved;else e=null})})(jQuery)